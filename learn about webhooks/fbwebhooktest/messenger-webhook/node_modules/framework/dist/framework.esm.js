function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((t=>Object.getOwnPropertyDescriptor(e,t).enumerable))),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),1).forEach((e=>{r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((e=>{Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:1,configurable:1,writable:1}):e[t]=r,e}function n(e=v){const t=e.createStore(0,{name:"$opened",sid:"-5kdggg"}),r=e.createStore({},{name:"$params",sid:"-lt6ylq"}),n=e.createStore({},{name:"$query",sid:"-ttwijs"}),o={enter:e.createEvent({name:"enter",sid:"-tugzqm"}),update:e.createEvent({name:"update",sid:"rhre0v"}),exit:e.createEvent({name:"exit",sid:"-q61tqt"}),$opened:t,$params:r,$query:n,$props:h({ɔ:[{params:r,query:n}],config:{name:"$props",sid:"ld17jr"}})};return r.on([o.enter,o.update],((e,{params:t})=>t)),n.on([o.enter,o.update],((e,{query:t})=>t)),o.$opened.on(o.enter,(()=>1)).on(o.exit,(()=>0)),o}function o(e,t){return t[E]=e,t}function a(e){return e[E]}function i(e){if(e.route.component)return a(e.route.component)}function c(e){const r=e.domain||v,n=(e=>{const t='undefined'!=typeof document?b():null,r=e.createEffect({name:"historyPush",sid:"o1x4sa"}),n=e.createEffect({name:"historyPushSearch",sid:"xiuw4b"}),o=e.createEffect({name:"historyReplace",sid:"-qrkbw9"}),a=e.createEvent({name:"historyChanged",sid:"oxh1xh"}),i=e.createEvent({name:"historyEmitCurrent",sid:"m2f96k"});return'test'!==process.env.NODE_ENV&&(r.use((e=>null==t?void 0:t.push(e))),o.use((e=>null==t?void 0:t.replace(e))),n.use((e=>null==t?void 0:t.push({search:e}))),null==t||t.listen((({pathname:e,search:t,hash:r},n)=>{a({pathname:e,search:t,hash:r,action:n})})),m({ɔ:[{source:i,fn:()=>({action:'REPLACE',hash:null==t?void 0:t.location.hash,pathname:null==t?void 0:t.location.pathname,search:null==t?void 0:t.location.search}),target:a}],config:{sid:"kzz792"}})),{history:t,historyPush:r,historyPushSearch:n,historyReplace:o,historyChanged:a,historyEmitCurrent:i}})(r);p({ɔ:{from:e.ready,to:n.historyEmitCurrent},config:{sid:"a2fxhi"}});const o=n.historyChanged.filterMap((r=>{const n=f(e.routes,r.pathname);if(n.length>0)return t(t({},n[0]),{},{change:r})}));for(const{component:t,path:n}of e.routes){if(!t)return;const{routeMatched:e,__:i}=y({source:o,cases:{routeMatched:({route:e,match:t,change:r})=>{if(e.path===n)return{params:t.params,query:Object.fromEntries(new URLSearchParams(r.search))}}}}),c=r.createEvent({name:"hatchEnter",sid:"-v65ud0"}),s=r.createEvent({name:"hatchUpdate",sid:"2pt9rt"}),f=r.createEvent({name:"hatchExit",sid:"9jqgv9"}),u=r.createEvent({name:"dontNeedLoadChunk",sid:"-nsb40i"}),d=r.createStore(0,{name:"$chunkLoaded",sid:"-4kqdl4"}),m=r.createStore(void 0!==a(t),{name:"$hasHatch",sid:"fjkblq"}),g=r.createEffect((async()=>{const e=t.load;if('function'==typeof e){const t=await e();return t.default?t.default:(console.info(`Not found default export for "${n}" route`),null)}return t}),{name:"loadPageFx",sid:"-qstag2"}),b=r.createEffect((e=>{const t=a(e);return t?(p({ɔ:{from:c,to:t.enter},config:{sid:"cw5veh"}}),p({ɔ:{from:s,to:t.update},config:{sid:"cwpnzu"}}),p({ɔ:{from:f,to:t.exit},config:{sid:"cx9gl7"}}),1):0}),{name:"setupHatchLinksFx",sid:"-rikxkp"}),v=r.createStore(0,{name:"$onRoute",sid:"wfxrk6"}).on(e,(()=>1)).on(i,(()=>0)),E=r.createStore(0,{name:"$onPage",sid:"hfkz8f"}).on(c,(()=>1)).on(f,(()=>0));d.on(g.done,(()=>1)).on(u,(()=>1)),m.on(b.doneData,((e,t)=>t)),l({ɔ:[{source:e,filter:h({ɔ:[m,d,(e,t)=>!e&&!t],config:{name:"filter",sid:"tg5siz"}}),target:g}],config:{sid:"oqwhym"}}),l({ɔ:[{source:g.doneData,filter:e=>null!==e,target:b}],config:{sid:"p8hwy6"}}),l({ɔ:[{source:e,filter:h({ɔ:[m,d,(e,t)=>e&&!t],config:{name:"filter",sid:"-cp7bea"}}),target:[b.prepend((()=>t)),u]}],config:{sid:"pofy5n"}}),l({ɔ:[{source:e,clock:b.doneData,filter:v,target:c}],config:{sid:"psuawj"}}),l({ɔ:[{source:e,filter:E,target:s}],config:{sid:"q88jin"}}),l({ɔ:[{source:i,filter:E,target:f}],config:{sid:"qnms4r"}})}return{navigation:n}}function s(e){for(const t in e.page){const r=e.page[t],n=e.model[t];r&&n&&g.unit(r)&&g.unit(n)&&(g.store(r,{sid:"xrdgy2"})&&g.store(n,{sid:"xrdih6"})?(p({ɔ:{from:n,to:r},config:{sid:"m1otzj"}}),r.defaultState=n.defaultState,r.stateRef.current=n.stateRef.current,r.stateRef.before=[{type:'map',fn:e=>e,from:n.stateRef}]):p({ɔ:{from:r,to:n},config:{sid:"n1fgk0"}}))}}export{default as loadable}from'@loadable/component';import{matchRoutes as f,renderRoutes as u}from'react-router-config';import{createDomain as d,combine as h,sample as m,forward as p,guard as l,is as g}from'effector';import{splitMap as y}from'patronum';import{createBrowserHistory as b}from'history';const v=d('framework/default',{name:"defaultDomain",sid:"-tzcbvc"}),E='framework/page-hatch',j=e=>u(e);export{s as contract,c as createBrowserApplication,n as createHatch,j as createPages,a as getHatch,i as lookupHatch,o as withHatch};
//# sourceMappingURL=framework.esm.js.map
